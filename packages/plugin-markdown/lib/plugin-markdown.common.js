!(function (t, e) { typeof exports === 'object' && typeof module === 'object' ? module.exports = e() : typeof define === 'function' && define.amd ? define([], e) : typeof exports === 'object' ? exports.PluginMarkdown = e() : t.PluginMarkdown = e() }(global, function () { return (function (t) { var e = {}; function r (o) { if (e[o]) return e[o].exports; var n = e[o] = { i: o, l: !1, exports: {}}; return t[o].call(n.exports, n, n.exports, r), n.l = !0, n.exports } return r.m = t, r.c = e, r.d = function (t, e, o) { r.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: o }) }, r.r = function (t) { typeof Symbol !== 'undefined' && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: 'Module' }), Object.defineProperty(t, '__esModule', { value: !0 }) }, r.t = function (t, e) { if (1 & e && (t = r(t)), 8 & e) return t; if (4 & e && typeof t === 'object' && t && t.__esModule) return t; var o = Object.create(null); if (r.r(o), Object.defineProperty(o, 'default', { enumerable: !0, value: t }), 2 & e && typeof t !== 'string') for (var n in t)r.d(o, n, function (e) { return t[e] }.bind(null, n)); return o }, r.n = function (t) { var e = t && t.__esModule ? function () { return t.default } : function () { return t }; return r.d(e, 'a', e), e }, r.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, r.p = '', r(r.s = 12) }([function (t, e) { t.exports = require('markdown-it') }, function (t, e) { t.exports = require('markdown-it-emoji') }, function (t, e) { t.exports = require('markdown-it-sub') }, function (t, e) { t.exports = require('markdown-it-sup') }, function (t, e) { t.exports = require('markdown-it-footnote') }, function (t, e) { t.exports = require('markdown-it-deflist') }, function (t, e) { t.exports = require('markdown-it-abbr') }, function (t, e) { t.exports = require('markdown-it-ins') }, function (t, e) { t.exports = require('markdown-it-mark') }, function (t, e) { t.exports = require('markdown-it-toc-and-anchor') }, function (t, e) { t.exports = require('markdown-it-katex') }, function (t, e) { t.exports = require('markdown-it-task-lists') }, function (t, e, r) { 'use strict'; r.r(e); var o = r(0); var n = r.n(o); var i = r(1); var s = r.n(i); var a = r(2); var u = r.n(a); var l = r(3); var c = r.n(l); var d = r(4); var h = r.n(d); var f = r(5); var p = r.n(f); var m = r(6); var y = r.n(m); var b = r(7); var k = r.n(b); var L = r(8); var g = r.n(L); var x = r(9); var w = r.n(x); var v = r(10); var S = r.n(v); var j = r(11); var q = r.n(j); e.default = { md: new n.a(), template: '<div><slot></slot></div>', data () { return { sourceData: this.source } }, props: { watches: { type: Array, default: () => ['source', 'show', 'toc'] }, source: { type: String, default: '' }, show: { type: Boolean, default: !0 }, highlight: { type: Boolean, default: !0 }, html: { type: Boolean, default: !0 }, xhtmlOut: { type: Boolean, default: !0 }, breaks: { type: Boolean, default: !0 }, linkify: { type: Boolean, default: !0 }, emoji: { type: Boolean, default: !0 }, typographer: { type: Boolean, default: !0 }, langPrefix: { type: String, default: 'language-' }, quotes: { type: String, default: '“”‘’' }, tableClass: { type: String, default: 'table' }, taskLists: { type: Boolean, default: !0 }, toc: { type: Boolean, default: !1 }, tocId: { type: String }, tocClass: { type: String, default: 'table-of-contents' }, tocFirstLevel: { type: Number, default: 2 }, tocLastLevel: { type: Number }, tocAnchorLink: { type: Boolean, default: !0 }, tocAnchorClass: { type: String, default: 'toc-anchor' }, tocAnchorLinkSymbol: { type: String, default: '#' }, tocAnchorLinkSpace: { type: Boolean, default: !0 }, tocAnchorLinkClass: { type: String, default: 'toc-anchor-link' }, anchorAttributes: { type: Object, default: () => ({}) }, prerender: { type: Function, default: t => t }, postrender: { type: Function, default: t => t }}, computed: { tocLastLevelComputed () { return this.tocLastLevel > this.tocFirstLevel ? this.tocLastLevel : this.tocFirstLevel + 1 } }, render (t) { this.md = (new n.a()).use(u.a).use(c.a).use(h.a).use(p.a).use(y.a).use(k.a).use(g.a).use(S.a, { throwOnError: !1, errorColor: ' #cc0000' }).use(q.a, { enabled: this.taskLists }), this.emoji && this.md.use(s.a), this.md.set({ html: this.html, xhtmlOut: this.xhtmlOut, breaks: this.breaks, linkify: this.linkify, typographer: this.typographer, langPrefix: this.langPrefix, quotes: this.quotes }), this.md.renderer.rules.table_open = () => `<table class="${this.tableClass}">\n`; const e = this.md.renderer.rules.link_open || function (t, e, r, o, n) { return n.renderToken(t, e, r) }; this.md.renderer.rules.link_open = (t, r, o, n, i) => (Object.keys(this.anchorAttributes).map(e => { const o = t[r].attrIndex(e); const n = this.anchorAttributes[e]; o < 0 ? t[r].attrPush([e, n]) : t[r].attrs[o][1] = n }), e(t, r, o, n, i)), this.toc && this.md.use(w.a, { tocClassName: this.tocClass, tocFirstLevel: this.tocFirstLevel, tocLastLevel: this.tocLastLevelComputed, anchorLink: this.tocAnchorLink, anchorLinkSymbol: this.tocAnchorLinkSymbol, anchorLinkSpace: this.tocAnchorLinkSpace, anchorClassName: this.tocAnchorClass, anchorLinkSymbolClassName: this.tocAnchorLinkClass, tocCallback: (t, e, r) => { r && (this.tocId && document.getElementById(this.tocId) && (document.getElementById(this.tocId).innerHTML = r), this.$emit('toc-rendered', r)) } }); let r = this.show ? this.md.render(this.prerender(this.sourceData)) : ''; return r = this.postrender(r), this.$emit('rendered', r), t('div', { domProps: { innerHTML: r }}) }, beforeMount () { if (this.$slots.default) { this.sourceData = ''; for (const t of this.$slots.default) this.sourceData += t.text } this.$watch('source', () => { this.sourceData = this.prerender(this.source), this.$forceUpdate() }), this.watches.forEach(t => { this.$watch(t, () => { this.$forceUpdate() }) }) } } }])) }))
